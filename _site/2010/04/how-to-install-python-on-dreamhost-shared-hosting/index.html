<!DOCTYPE html> 
<html lang="en"> 
    <head> 
        <meta charset="utf-8"> 
        <meta name="viewport" content="width=device-width, initial-scale=1.0"> 
        <title>How to Install Python on Dreamhost Shared Hosting</title> 
				<meta name="author" content="Ben Emson" />
				<link href="http://feeds.feedburner.com/ben-emson" rel="alternate" title="Ben Emsonr" type="application/atom+xml" />

			   <!-- syntax highlighting CSS -->
			   <link rel="stylesheet" href="/css/syntax.css" type="text/css" />

			   <!-- Homepage CSS -->
			   <link rel="stylesheet" href="/css/screen.css" type="text/css" media="screen, projection" />
			   <script src="/mint/?js" type="text/javascript"></script>
    </head> 
 
    <body>  
        <div id="container"> 
 
            <h1><a href="http://blog.emson.co.uk">Ben Emson</a></h1> 
            
            <div id="post">
<h1>How to Install Python on Dreamhost Shared Hosting</h1>

<p>This article describes how to install and set up Python and VirtualEnv on <a href="http://www.dreamhost.com/r.cgi?105422">Dreamhost web site hosting</a>.</p>

<p>Some of these notes are based on this article:</p>

<p>URL:  <a href="http://blog.localkinegrinds.com/2007/08/20/custom-python-installation-for-django-on-dreamhost/">http://blog.localkinegrinds.com/2007/08/20/custom-python-installation-for-django-on-dreamhost/</a></p>

<h2>Set up</h2>

<p>Log into your shared server and do the following:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>mkdir -p opt/python261
<span class="nv">$ </span>mkdir downloads
<span class="nv">$ </span><span class="nb">cd </span>downloads
<span class="nv">$ </span>wget http://www.python.org/ftp/python/2.6.1/Python-2.6.1.tgz
<span class="nv">$ </span>tar xvzf Python-2.6.1.tgz
</code></pre>
</div>


<p>Note that:
According to the <a href="http://www.pathname.com/fhs/pub/fhs-2.3.html#OPTADDONAPPLICATIONSOFTWAREPACKAGES">Filesystem Hierarchy Standard</a>, the /opt dir "is reserved for the installation of add-on application software packages."</p>

<p>Now configure where your new Python instance will be installed:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span><span class="nb">cd </span>Python-2.6.1
<span class="nv">$ </span>./configure --prefix<span class="o">=</span><span class="nv">$HOME</span>/opt/python261
<span class="nv">$ </span>make
<span class="nv">$ </span>make install &gt; install.txt
</code></pre>
</div>


<p>NB: The install.txt file is useful to locate files if you wish to uninstall Python later.
NB: you might wish to use:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>./configure --prefix<span class="o">=</span><span class="nv">$HOME</span>/opt/python261  --enable-unicode<span class="o">=</span>ucs4
</code></pre>
</div>


<p>But Dreamhost does uses ucs2 by default (Python's default to), and there can be issues if you try to load packages that are compiled using a different Unicode setting.</p>

<p>Now edit your ~/.bash_profile file to specify the new Python install located in: ~/opt/</p>

<div class="highlight"><pre><code class="bash"><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="nv">$PATH</span>:<span class="nv">$HOME</span>/opt/python261/bin
</code></pre>
</div>


<p>You might also want to add an alias so that instead of typing <strong>python2.6</strong> to access the python shell, you can just type <strong>python</strong> in the command line.</p>

<div class="highlight"><pre><code class="bash"><span class="nb">alias </span><span class="nv">python</span><span class="o">=</span><span class="s1">&#39;python2.6&#39;</span>
</code></pre>
</div>


<p>Don't forget to tell bash to load this file after you have made your changes:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span><span class="nb">source</span> ~/.bash_profile
<span class="nv">$ </span>python -V  <span class="c"># will display your new version 2.6.1</span>
</code></pre>
</div>


<h2>Installing VirtualEnv</h2>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span><span class="nb">cd </span>downloads/
<span class="nv">$ </span>curl -O http://pypi.python.org/packages/source/v/virtualenv/virtualenv-1.4.5.tar.gz
<span class="nv">$ </span>tar -xvzf virtualenv-1.4.5.tar.gz
<span class="nv">$ </span>python virtualenv-1.4.5/virtualenv.py <span class="nv">$HOME</span>/virtual --no-site-packages
</code></pre>
</div>


<p>NB: This binds your new install with virtualenv and creates a virtual directory in your user home directory.
You will need to use the <strong>--no-site-packages</strong> option so that virtualenv doesn't use any of the original Dreamhost Python install packages.</p>

<p>Update your <strong>~/.bash_profile</strong> file so that it puts the virtualenv packages onto the Python path, and <em>activate(s)</em> your virtual environment:</p>

<div class="highlight"><pre><code class="bash"><span class="nb">export </span><span class="nv">PATH</span><span class="o">=</span><span class="s2">&quot;$PATH:$HOME/opt/python261/bin:$HOME/virtual/bin&quot;</span>
<span class="nb">source</span> <span class="nv">$HOME</span>/virtual/bin/activate
</code></pre>
</div>


<p>Check that the packages directory is in your new virtual <strong>site_packages</strong> directory:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>python -c <span class="s2">&quot;from distutils.sysconfig import get_python_lib; print get_python_lib()&quot;</span>
</code></pre>
</div>


<p>Now activate your virtual environment, by executing the <strong>.bash_profile</strong> file:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span><span class="nb">source</span> ~/.bash_profile
</code></pre>
</div>


<p>Or manually activate it by:</p>

<div class="highlight"><pre><code class="bash"><span class="nv">$ </span>. ~/virtual/bin activate
</code></pre>
</div>


<h2>Installing MySQL Python Bindings</h2>

<p><a href="http://sourceforge.net/projects/mysql-python/files/mysql-python-test/1.2.3c1/MySQL-python-1.2.3c1.tar.gz/download">http://sourceforge.net/projects/mysql-python/files/mysql-python-test/1.2.3c1/MySQL-python-1.2.3c1.tar.gz/download</a></p>

<div class="highlight"><pre><code class="bash"><span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span><span class="nb">cd </span>downloads
<span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span>wget http://internap.dl.sourceforge.net/sourceforge/mysql-python/MySQL-python-1.2.3c1.tar.gz
<span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span>tar xvzf MySQL-python-1.2.3c1.tar.gz
<span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span><span class="nb">cd </span>MySQL-python-1.2.3c1
<span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span>python setup.py install
</code></pre>
</div>


<p>Check that you can import the database correctly (NB: do this from a different directory from the one where MySQL-python was installed, as you will get Module already imported warnings):</p>

<div class="highlight"><pre><code class="bash"><span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span><span class="nb">cd</span> ~
<span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span>python
&gt;&gt;&gt; import MySQLdb
</code></pre>
</div>


<p>If you don't get an error all succeeded OK.</p>

<h2>Install Django</h2>

<div class="highlight"><pre><code class="bash"><span class="o">(</span>virtual<span class="o">)</span><span class="nv">$ </span>pip install Django
</code></pre>
</div>




</div>

<div id="related">
  <h2>Related Posts</h2>
  <ul class="posts">
    
      <li><span>24 Jun 2010</span> &raquo; <a href="/2010/06/ruby-quine-example">Ruby Quine Example</a></li>
    
      <li><span>11 May 2010</span> &raquo; <a href="/2010/05/what-is-the-difference-between-a-proc-and-a-lambda-in-ruby">What is the Difference Between a Proc and a Lambda in Ruby?</a></li>
    
      <li><span>09 May 2010</span> &raquo; <a href="/2010/05/code-kata-four-exercise-a-ruby-solution">Code Kata Four Exercise - A Ruby Solution</a></li>
    
  </ul>
</div>

<div id="disqus_thread"></div>
<script type="text/javascript">
    /* * * CONFIGURATION VARIABLES: EDIT BEFORE PASTING INTO YOUR WEBPAGE * * */
    var disqus_shortname = 'emson'; // required: replace example with your forum shortname

    // The following are highly recommended additional parameters. Remove the slashes in front to use.
    var disqus_identifier = '/2010/04/how-to-install-python-on-dreamhost-shared-hosting';
    var disqus_url = 'http://blog.emson.co.uk/2010/04/how-to-install-python-on-dreamhost-shared-hosting';
    var disqus_title = 'How to Install Python on Dreamhost Shared Hosting';
    // var disqus_developer = 1;
    
    /* * * DON'T EDIT BELOW THIS LINE * * */
    (function() {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/embed.js';
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
    })();
</script>
<noscript>Please enable JavaScript to view the <a href="http://disqus.com/?ref_noscript">comments powered by Disqus.</a></noscript>
<a href="http://disqus.com" class="dsq-brlink">blog comments powered by <span class="logo-disqus">Disqus</span></a>
 
            <div class="footer">
                <p>A project by <a href="http://blog.emson.co.uk">Ben Emson</a> | <a href="http://twitter.com/emson">@emson</a>.</p> 
            </div> 
 
        </div> 
				<!-- Google Analytics -->
    </body> 
</html>